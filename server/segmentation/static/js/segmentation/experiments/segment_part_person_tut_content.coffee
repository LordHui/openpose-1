window.mt_tut_contents = do() ->
  pose = [
    [0.4467546634496467, 0.38234769922858675],
  [0.49109062021577166, 0.3694663063843747],
  [0.38394539136430306, 0.4009208703062878],
  [0.4467546634496467, 0.38234769922858675]
  ]

  scribbles = [
    {"points": [[0.37426829298507724, 0.44132840779859817], [0.37373064658792754, 0.44079076140144846], [0.3731930001907778, 0.43971546860714894], [0.3721177073964783, 0.43917782220999924], [0.37104241460217885, 0.4381025294156997], [0.3705047682050291, 0.4364895902242506], [0.3694294754107297, 0.43380135823850197], [0.36727888982213075, 0.4295001870613041], [0.3656659506306815, 0.42466136948695654], [0.36620359702783123, 0.4241237230898067], [0.3656659506306815, 0.423586076692657], [0.3651283042335318, 0.4208978447069084], [0.3645906578363821, 0.4165966735297105], [0.3645906578363821, 0.4160590271325608], [0.36405301143923235, 0.4128331487496625], [0.3645906578363821, 0.41068256316106355], [0.3651283042335318, 0.4079943311753148], [0.3651283042335318, 0.4069190383810154], [0.3656659506306815, 0.40530609918956617], [0.36620359702783123, 0.40476845279241647], [0.366741243424981, 0.40369315999811706], [0.36620359702783123, 0.40315551360096724], [0.366741243424981, 0.40208022080666783], [0.36727888982213075, 0.401542574409518], [0.36727888982213075, 0.3999296352180689], [0.36781653621928045, 0.3988543424237694], [0.3683541826164302, 0.39724140323232016], [0.3688918290135799, 0.39616611043802075], [0.3694294754107297, 0.3934778784522721], [0.3694294754107297, 0.3924025856579726], [0.3699671218078794, 0.3913272928636732], [0.3705047682050291, 0.3907896464665235], [0.37104241460217885, 0.39025200006937366], [0.3715800609993286, 0.38917670727507425], [0.3721177073964783, 0.38863906087792455], [0.37373064658792754, 0.387563768083625], [0.37480593938222695, 0.3870261216864753], [0.37749417136797564, 0.3854131824950261], [0.37803181776512534, 0.3848755360978764], [0.38018240335372433, 0.38326259690642717], [0.38018240335372433, 0.38272495050927746], [0.3823329889423232, 0.38164965771497805], [0.38340828173662267, 0.38111201131782835], [0.3860965137223713, 0.3800367185235288], [0.38717180651667077, 0.3794990721263791], [0.38932239210526975, 0.3784237793320796], [0.38986003850241946, 0.3778861329349299], [0.39093533129671887, 0.3778861329349299], [0.39147297769386863, 0.3773484865377802], [0.3925482704881681, 0.3778861329349299], [0.3936235632824675, 0.3778861329349299], [0.394698856076767, 0.3784237793320796], [0.39577414887106643, 0.3784237793320796], [0.39846238085681507, 0.3789614257292294], [0.3995376736511146, 0.3789614257292294], [0.4016882592397135, 0.3789614257292294], [0.4022259056368632, 0.3789614257292294], [0.40383884482831245, 0.3794990721263791], [0.40437649122546215, 0.3794990721263791], [0.4065270768140611, 0.3794990721263791], [0.40706472321121084, 0.3794990721263791], [0.40814001600551025, 0.3789614257292294]], "is_foreground": false}, {"points": [[0.3565259618791361, 0.5053083290594161], [0.3559883154819864, 0.5047706826622664], [0.352762437099088, 0.501544804279368], [0.3425471555532431, 0.4886412907477745], [0.33824598437604525, 0.4434789933871971], [0.3393212771703447, 0.4289625406641543], [0.3398589235674945, 0.4241237230898067], [0.3403965699646442, 0.4241237230898067], [0.34093421636179394, 0.4144460879411116], [0.3436224483475426, 0.3907896464665235], [0.34684832673044097, 0.38326259690642717], [0.34792361952474044, 0.38164965771497805], [0.35330008349623776, 0.37412260815488174], [0.3554506690848367, 0.3719720225662829], [0.3624400722477832, 0.36659555859478554], [0.3694294754107297, 0.3622943874175877], [0.38018240335372433, 0.3574555698432401], [0.38179534254517344, 0.3574555698432401], [0.3850212209280719, 0.3563802770489407], [0.386634160119521, 0.355842630651791], [0.38932239210526975, 0.3542296914603418], [0.39093533129671887, 0.3536920450631921], [0.394698856076767, 0.35154145947459314], [0.39792473445966536, 0.3493908738859941], [0.4000753200482643, 0.3483155810916947], [0.4011506128425638, 0.347777934694545], [0.40383884482831245, 0.34616499550309576], [0.4054517840197616, 0.34562734910594606], [0.4065270768140611, 0.34455205631164654], [0.40706472321121084, 0.34401440991449694], [0.40706472321121084, 0.3429391171201974], [0.40491413762261186, 0.33648736035440063], [0.4054517840197616, 0.3251967860142563], [0.4054517840197616, 0.3214332612342081], [0.4054517840197616, 0.3122932724826627], [0.4065270768140611, 0.30799210130546495], [0.41082824799125894, 0.2880991846109249], [0.4129788335798579, 0.27035685350498373], [0.4119035407855584, 0.24078630166174855], [0.41405412637415734, 0.2225063241586577], [0.41459177277130704, 0.2117533962156631], [0.41405412637415734, 0.21121574981851335], [0.4124411871827081, 0.20906516422991445], [0.40867766240266, 0.20476399305271661], [0.40760236960836055, 0.20261340746411768], [0.4054517840197616, 0.20046282187551873], [0.402763552034013, 0.1993875290812193], [0.39846238085681507, 0.19723694349262036], [0.3920106240910184, 0.19831223628691982], [0.39093533129671887, 0.19884988268406956], [0.3855588673252216, 0.1993875290812193], [0.38340828173662267, 0.2015381146698182], [0.3769565249708259, 0.21605456739286094], [0.37426829298507724, 0.2225063241586577], [0.36727888982213075, 0.24347453364749722], [0.3645906578363821, 0.2569156935762405], [0.3592141938648848, 0.28541095262517624], [0.35491302268768693, 0.2972391733624703], [0.34523538753899174, 0.32896031079430443], [0.3420095091560934, 0.33810029954584986], [0.3436224483475426, 0.36498261940333643], [0.3436224483475426, 0.36552026580048613], [0.34093421636179394, 0.36874614418338447], [0.32372953165300256, 0.39562846404087104], [0.30760013973851064, 0.4305754798556035], [0.304911907752762, 0.4429413469900474], [0.3038366149584625, 0.4504683965501436], [0.3032989685613128, 0.45423192133019163], [0.3038366149584625, 0.4569201533159404], [0.3043742613556122, 0.4585330925073895], [0.304911907752762, 0.46283426368458735], [0.3059872005470614, 0.4644472028760366], [0.3129766037100079, 0.4719742524361328], [0.3162024820929063, 0.473587191627582], [0.31781542128435547, 0.4746624844218815], [0.3183530676815053, 0.4752001308190311], [0.3199660068729544, 0.4741248380247317], [0.3258801172416015, 0.46337191008173706], [0.3403965699646442, 0.4214354911040581], [0.3393212771703447, 0.4004672816152186], [0.3291059956244998, 0.3859508288921759], [0.32480482444730197, 0.3843378897007267], [0.30007309017841444, 0.38057436492067853], [0.2925460406183181, 0.38917670727507425], [0.2796425270867246, 0.40530609918956617], [0.27695429510097597, 0.41175785595536296], [0.2742660631152273, 0.4133707951468121], [0.27104018473232894, 0.4160590271325608], [0.2624378423779332, 0.4219731375012078], [0.2619001959807835, 0.4214354911040581], [0.2597496103921846, 0.4214354911040581], [0.2586743175978851, 0.4214354911040581]], "is_foreground": false}, {"points": [[0.37803181776512534, 0.40476845279241647], [0.37803181776512534, 0.40530609918956617], [0.3769565249708259, 0.4079943311753148], [0.37749417136797564, 0.4133707951468121], [0.37749417136797564, 0.419822551912609], [0.3791071105594248, 0.42519901588410625], [0.38125769614802374, 0.43165077264990304], [0.38287063533947296, 0.43433900463565167], [0.38340828173662267, 0.4354142974299511]], "is_foreground": true}, {"points": [[0.4011506128425638, 0.38810141448077484], [0.4016882592397135, 0.38810141448077484], [0.40437649122546215, 0.3870261216864753], [0.4119035407855584, 0.3864884752893256], [0.4172800047570557, 0.3848755360978764], [0.42211882233140324, 0.383800243303577], [0.4264199935086011, 0.38164965771497805], [0.4296458718914995, 0.3800367185235288], [0.4323341038772482, 0.3789614257292294], [0.43448468946584706, 0.3784237793320796], [0.4403987998344941, 0.3768108401406305], [0.44469997101169195, 0.37573554734633097], [0.450614081380339, 0.37412260815488174], [0.4522270205717882, 0.37412260815488174], [0.4554528989546866, 0.3725096689634326], [0.4576034845432855, 0.3708967297719834], [0.46244230211763304, 0.3703590833748337], [0.464592887706232, 0.369821436977684], [0.46674347329483096, 0.3692837905805342], [0.4683564124862801, 0.36874614418338447], [0.46889405888342983, 0.36820849778623477], [0.4699693516777293, 0.36820849778623477], [0.4817975724150234, 0.36713320499193525], [0.48448580440077205, 0.36605791219763584], [0.48824932918082015, 0.36552026580048613], [0.48986226837226937, 0.36498261940333643], [0.4914752075637186, 0.3644449730061866]], "is_foreground": true}, {"points": [[0.4990022571238148, 0.3622943874175877], [0.4990022571238148, 0.3628320338147375], [0.5000775499181143, 0.36820849778623477], [0.5011528427124137, 0.37519790094918126], [0.5022281355067132, 0.3784237793320796], [0.5027657819038629, 0.3784237793320796], [0.5049163674924618, 0.3719720225662829], [0.5054540138896115, 0.36659555859478554], [0.5054540138896115, 0.36552026580048613], [0.5059916602867613, 0.36498261940333643], [0.5059916602867613, 0.3644449730061866], [0.5065293066839109, 0.3644449730061866], [0.5070669530810608, 0.36605791219763584], [0.5081422458753602, 0.37358496175773204], [0.5092175386696597, 0.37573554734633097], [0.5092175386696597, 0.37627319374348067], [0.5097551850668094, 0.37627319374348067], [0.5102928314639591, 0.37519790094918126], [0.512443417052558, 0.3714343761691331], [0.5129810634497078, 0.369821436977684], [0.5129810634497078, 0.36874614418338447], [0.5135187098468575, 0.36820849778623477], [0.5140563562440073, 0.36767085138908506], [0.5140563562440073, 0.36659555859478554], [0.5145940026411571, 0.36498261940333643], [0.5140563562440073, 0.36552026580048613], [0.5145940026411571, 0.36713320499193525], [0.5151316490383067, 0.3719720225662829], [0.5151316490383067, 0.3725096689634326], [0.5156692954354565, 0.37304731536058233], [0.5162069418326061, 0.37304731536058233]], "is_foreground": true}
  ]

  img_url = window.static_url + "img/segmentation/mturk_part/im01996.jpg"
  expected_mask_url = window.static_url + "img/segmentation/mturk_part/expected_mask_im01996.png"
  bounding_box = [0.15114503816793895, 0.058524173027989818, 0.62493638676844787, 0.61068702290076338]
  person_id = 12001

  return [
    {
      message_tut: [
        'This short tutorial will teach how to do this HIT.  You get as',
        'many tries as you like, and you don\'t have to do it again once',
        'you pass.  Click "Next" to continue to the next screen.'
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'In this task, you are going to draw lines inside and outside a part of',
        'a person.  The part is marked with red dots on the body and the name is',
        'in the top bar.  First, we will show you some examples.'
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'We will display some areas of the image brighter and some darker.  The',
        'bright part should align with the specified part.  Click',
        '"Hide/Show Mask" to switch the mask on and off. Try it yourself.'
      ],
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'In case where the mask is wrong you can add foreground and'
        'background lines to guide the algorithm.',
        'Please note the white part on the body of the person.'
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'The added background scribble (in green; press and hold right mouse',
        'button) changes the mask.  Background scribbles are always outside of'
        'the specified part.'
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'scribbles': [scribbles[1]]
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'This time we have added a foreground scribble (in blue; press and hold',
        'left mouse button) to fix the mask.',
        'Foreground are always inside the specified part.',
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'scribbles': [scribbles[1], scribbles[2]]
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'A finished HIT might look like this.',
        'All the area outside the person will be automatically excluded.',
        'Please pay special attention to hands and feet.'
      ]
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'scribbles': scribbles
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ]
    },
    {
      message_tut: [
        'Now, it\'s your turn.  Add at least one foreground line (with the left',
        'mouse button) and a background line (with the right mouse button) to',
        'finish the task.  Zooming with your mouse wheel might help you.'
      ],
      message_correct: ['Very good!  Click "Next" to continue.'],
      message_error: [
        'Please continue.',
        'The parts of the mask that need a fix are marked in red.'
      ],
      expected_mask_url: expected_mask_url,
      threshold: 0.001
      content: [
        {
          'photo': {
            'image': {'orig': img_url}
          }
          'id': person_id
          'scribbles': [scribbles[0], scribbles[2], scribbles[4]]
          'parse_pose': pose
          'part_name': 'right arm'
          'bounding_box': bounding_box
        }
      ],
    }
  ]
